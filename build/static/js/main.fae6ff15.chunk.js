(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(6),a=n.n(c),s=n(23),i=n.n(s),o=(n(32),n(22)),r=n(17),u=n(27),l=n(42),j=n(0),m=Object(l.a)(),f=Object(u.a)("http://localhost:8080");f.on("connect",(function(){return console.log(f.id)}));var h=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([{id:m,name:"",changeInput:!1}]),i=Object(r.a)(s,2),u=i[0],l=i[1],h=Object(c.useState)(""),b=Object(r.a)(h,2),d=b[0],O=b[1],g=Object(c.useState)([]),p=Object(r.a)(g,2),v=p[0],x=p[1],N=Object(c.useState)([]),C=Object(r.a)(N,2),S=C[0],w=C[1];Object(c.useEffect)((function(){var e=function(e){return x([].concat(Object(o.a)(v),[e]))};return f.on("chat.message",e),function(){return f.off("chat.message",e)}}),[v]),Object(c.useEffect)((function(){var e=function(e){return w([].concat(Object(o.a)(S),[e]))};return f.on("online.user",e),function(){return f.off("online.user",e)}}),[S]);var I="name",_=function(e){a(e.target.value)},F=n;return!0===u[0].changeInput&&(I="message",_=function(e){O(e.target.value)},F=d),console.log(S),Object(j.jsxs)("main",{className:"container",children:[Object(j.jsx)("ul",{className:"list",children:v.map((function(e,t){return Object(j.jsx)("li",{className:"list__item list__item--".concat(e.id===m?"mine":"other"),children:Object(j.jsx)("span",{className:"message message--".concat(e.id===m?"mine":"other"),children:"".concat(e.name,": ").concat(e.message)})},t)}))}),Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsx)("form",{className:"form",onSubmit:function(e){e.preventDefault(),!1===u[0].changeInput?(l([{id:m,name:n,changeInput:!0}]),f.emit("online.user",[f.id,n])):d.trim()&&(f.emit("chat.message",{id:m,message:d,name:n}),O(""))},children:Object(j.jsx)("input",{className:"form__field",onChange:_,placeholder:"Type new ".concat(I),type:"text",value:F})}),Object(j.jsx)("button",{onClick:function(){f.emit("chat.message",{id:m,message:n+" has left this room...",name:"ChatsUpp"}),f.disconnect(),window.location.reload()},children:"Leave Chat"})]})]})};n(39);function b(){return Object(j.jsx)("div",{className:"white fas",children:Object(j.jsx)("h1",{children:"ChatsUpp"})})}var d=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(b,{}),Object(j.jsx)(h,{})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(d,{})}),document.getElementById("root")),O()}},[[40,1,2]]]);
//# sourceMappingURL=main.fae6ff15.chunk.js.map